<?xml version="1.0" encoding="UTF-8"?>
<!-- Warning: Used as template!  Make sure you're pointing at the correct file. -->
<Environment>
    <PopulationGroup id="nsp" totalSize="200">
        <Population initialSize="100">
            <DefaultAgentFactory agentClass="neutrality.DirectlyEncodedNetworkOperator">
            </DefaultAgentFactory>
            <MeanSimpleFitnessAggregator/>
            <VectorIndividualFactory genomeSize="10">
                <FlatDoubleInitializer ceiling="10" end="9"
                                       floor="0" start="0"/>
            </VectorIndividualFactory>
            <VectorMutationPipeline>
                <WeightedBreedingPipeline>
                    <ElitismSelector proportionElites="0.3" weight="0.5"/>
                    <TournamentSelector topIndividuals="1"
                                        touramentSize="2" weight="4.5"/>
                    <RandomIndividualSelector weight="1.0"/>
                </WeightedBreedingPipeline>
                <GaussianDoubleMutator end="9"
                                       mutationProbability="0.05" sd="0.05" start="0"/>
            </VectorMutationPipeline>
        </Population>
    </PopulationGroup>
    <PopulationGroup id="videoContent" totalSize="200">
        <Population initialSize="100" id="DirectlyEncodedVideoContentProviders">
            <DefaultAgentFactory agentClass="neutrality.DirectlyEncodedContentProvider">
                <Parameter name="isVideoProvider" value="true"/>
            </DefaultAgentFactory>
            <MeanSimpleFitnessAggregator/>
            <VectorIndividualFactory genomeSize="3">
                <FlatDoubleInitializer ceiling="3" end="2"
                                       floor="0" start="0"/>
            </VectorIndividualFactory>
            <VectorMutationPipeline>
                <WeightedBreedingPipeline>
                    <ElitismSelector proportionElites="0.3" weight="0.5"/>
                    <TournamentSelector topIndividuals="1"
                                        touramentSize="2" weight="4.5"/>
                    <RandomIndividualSelector weight="1.0"/>
                </WeightedBreedingPipeline>
                <GaussianDoubleMutator end="2"
                                       mutationProbability="0.05" sd="0.05" start="0"/>
            </VectorMutationPipeline>
        </Population>
    </PopulationGroup>
    <PopulationGroup id="otherContent" totalSize="200">
        <Population initialSize="100" id="DirectlyEncodedOtherContentProviders">
            <DefaultAgentFactory agentClass="neutrality.DirectlyEncodedContentProvider">
                <Parameter name="isVideoProvider" value="false"/>
            </DefaultAgentFactory>
            <MeanSimpleFitnessAggregator/>
            <VectorIndividualFactory genomeSize="3">
                <FlatDoubleInitializer ceiling="3" end="2"
                                       floor="0" start="0"/>
            </VectorIndividualFactory>
            <VectorMutationPipeline>
                <WeightedBreedingPipeline>
                    <ElitismSelector proportionElites="0.3" weight="0.5"/>
                    <TournamentSelector topIndividuals="1"
                                        touramentSize="2" weight="4.5"/>
                    <RandomIndividualSelector weight="1.0"/>
                </WeightedBreedingPipeline>
                <GaussianDoubleMutator end="2"
                                       mutationProbability="0.05" sd="0.05" start="0"/>
            </VectorMutationPipeline>
        </Population>
    </PopulationGroup>




    <!-- Need an EvaluationGroupFactory -->
    <ShuffledEvaluationGroupFactory numGroups="1000">
        <AgentSource populationGroup="nsp" numAgents="1"/>
        <AgentSource populationGroup="videoContent" numAgents="3"/>
        <AgentSource populationGroup="otherContent" numAgents="3"/>
    </ShuffledEvaluationGroupFactory>

    <!-- Need an Agent Model Factory -->
    <DefaultAgentModelFactory modelClass="neutrality.NeutralityModel">
        <Parameter name="alpha" value="1.0"/>
        <Parameter name="beta" value="1.0"/>
        <Parameter name="psi" value="0.4"/>
        <Parameter name="tau" value="0.4"/>
        <Parameter name="theta" value="0.2"/>
        <Parameter name="maxSteps" value="10"/>
        <Parameter name="numConsumers" value="200"/>
        <Parameter name="topIncome" value="10.0"/>
    </DefaultAgentModelFactory>

    <!-- Environment Statistics -->
    <DefaultEnvironmentStatistics/>

    <!-- Need an Evaluator -->
    <LocalEvaluator/>

    <!-- Test out an AgentModelReporter -->
    <AgentModelReporter perStepFile="psf.tsv"
                        summaryFile="sum.tsv"/>

</Environment>
